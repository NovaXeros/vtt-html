
//Setup dates for SSNL targets
var today = new Date();

// Christmas (Order M25)
var ssnl2512StartDate = new Date(2018, 11, 1);
ssnl2512StartDate.setHours(0,0,0,0);
var ssnl2512EndDate = new Date(2018, 11, 25);
ssnl2512EndDate.setHours(0,0,0,0);
var ssnl2512GameStartDate = new Date(2018, 11, 12);
ssnl2512GameStartDate.setHours(0,0,0,0);

// Halloween (Order K31)
var ssnl3110StartDate = new Date(2018, 9, 31);
ssnl3110StartDate.setHours(0,0,0,0);
var ssnl3110EndDate = new Date(2018, 9, 31);
ssnl3110EndDate.setHours(0,0,0,0);

// New Year's Eve (Order M31)
var ssnl3112StartDate = new Date(2018, 11, 27);
ssnl3110StartDate.setHours(0,0,0,0);
var ssnl3112EndDate = new Date(2019, 0, 01);
ssnl3110EndDate.setHours(0,0,0,0);


// Valentine's Day (Order B14)
var ssnl1402StartDate = new Date(2018, 01, 14);
ssnl1402StartDate.setHours(0,0,0,0);
var ssnl1402EndDate = new Date(2018, 01, 14);
ssnl1402EndDate.setHours(0,0,0,0);


//Setup the SSNL HTML objects

//requestAnimFrame shim function

window.requestAnimFrame = ( function() {
	return window.requestAnimationFrame ||
				window.webkitRequestAnimationFrame ||
				window.mozRequestAnimationFrame ||
				function( callback ) {
					window.setTimeout( callback, 1000 / 60 );
				};
})();

// HTML Canvas
var fwCanvas = document.getElementById( 'fw-canvas' );
var ctFW = fwCanvas.getContext( '2d' );

var valCanvas = document.getElementById( 'val-canvas' );
var ctV = valCanvas.getContext( '2d' );

// Dimensions for SSNL sizing
var cw = window.innerWidth;
var ch = window.innerHeight;

//Set the canvas (canvases) size
fwCanvas.width = cw;
fwCanvas.height = ch;
valCanvas.width = cw;
valCanvas.height = ch;

// Mouse coordinates (ssnl mode will have to decide how to use these)
var mx = 0;
var my = 0;

var wrapper = document.getElementById("wrapper");
var ssnl_tr = document.getElementById("ssnl_tr_img");
var ssnl_bl = document.getElementById("ssnl_bl_img");
var ssnl_bottom = document.getElementById("ssnl_bt_img");
var ssnl_lt = document.getElementById("ssnl_lt_img");
var ssnl_lt_over = document.getElementById("ssnl_lt_over_img");
var ssnl_lt_underOver = document.getElementById("ssnl_lt_underOver_img");

today.setHours(0,0,0,0);

//Function to reseize the canvas when called

function resizeCanvas() {

	cw = window.innerWidth;
	ch = window.innerHeight;

	fwCanvas.width = cw;
	fwCanvas.height = ch;
	valCanvas.width = cw;
	valCanvas.height = ch;

}

//Event listener to trigger resize code when relevant
window.addEventListener('resize', resizeCanvas, false);

if (today >= ssnl2512StartDate && today <= ssnl2512EndDate ) {

startSSNL2512();


} else if (today >= ssnl3110StartDate && today <= ssnl3110EndDate) {

startSSNL3110();


} else if (today >= ssnl3112StartDate && today <= ssnl3112EndDate) {

startSSNL3112();

} else if (today >= ssnl1402StartDate && today <= ssnl1402EndDate) {

startSSNL1402();

}

function startSSNL2512() {

var movementShift;

wrapper.className = "wrapper-2512";
document.body.className = "body-2512";

ssnl_tr.src = "./img/ssnl2512-1.png";
ssnl_bl.src = "./img/ssnl2512-2.png";
ssnl_lt.src = "./img/ssnl-lt-1.png";
ssnl_lt_underOver.src = "./img/ssnl2512-lt-3.png";
ssnl_lt_over.src = "./img/ssnl-lt-2.png";
ssnl_bottom.src = "./img/ssnl2512-bt.png";

movementShift = 450 - Math.round((300 / 100) * ((today.getDate() / 22) * 100));

ssnl_bottom.style.height = "450";
ssnl_bottom.style.transform = "translate(0, " + movementShift + "px)";

snowStorm.followMouse = false;
snowStorm.freezeOnBlur = true;
snowStorm.vMaxX = 4;
snowStorm.vMaxY = 3;

snowStorm.toggleSnow();

};

function startSSNL3110() {

wrapper.className = "wrapper-3110";
document.body.className = "body-3110";

ssnl_tr.src = "./img/ssnl3110-1.png";
ssnl_bl.src = "./img/ssnl3110-2.png";
ssnl_lt.src = "./img/ssnl-lt-1.png";
ssnl_lt_underOver.src = "./img/ssnl3110-lt-3.png";
ssnl_lt_underOver.style.transform = "translate(60px, 0)";
ssnl_lt_underOver.style.height = "80px";
ssnl_lt_over.src = "./img/ssnl-lt-2.png";

ssnl_tr.appendChild(trelem);
ssnl_bl.appendChild(blelem);

};


function startSSNL3112() {

wrapper.className = "wrapper-3112";
document.body.className = "body-3112";

// ssnl_tr.src = "./img/ssnl3112-1.png";
ssnl_tr.style.height = "300px";
document.getElementById("ssnl_tr").style.transform = "rotate(0deg) translate(55%, -80%)";
// ssnl_bl.src = "./img/ssnl3112-2.png";
ssnl_bl.style.height = "300px";
document.getElementById("ssnl_bl").style.transform = "translate(-150px, 0) rotate(0deg)";
ssnl_lt.src = "./img/ssnl-lt-1.png";
ssnl_lt_underOver.src = "./img/ssnl3112-lt-3.png";
ssnl_lt_underOver.style.transform = "translate(5px, 15px)";
ssnl_lt_underOver.style.height = "28px";
ssnl_lt_over.src = "./img/ssnl-lt-2.png";

document.getElementById('fw-canvas').style.display = "block";
document.getElementById("stars_sm").className = "stars small";
document.getElementById("stars_md").className = "stars medium";
document.getElementById("stars_sm").className = "stars large";

ssnl_tr.appendChild(trelem);
ssnl_bl.appendChild(blelem);

};

function startSSNL1402() {

wrapper.className = "wrapper-1402";
document.body.className = "body-1402";

document.getElementById('val-canvas').style.display = "block";

ssnl_tr.src = "./img/ssnl1402-1.png";
ssnl_bl.src = "./img/ssnl1402-2.png";

/*

snowStorm.followMouse = false;
snowStorm.freezeOnBlur = true;
snowStorm.vMaxX = 0.5;
snowStorm.vMaxY = 0.5;
snowStorm.flakesMax = 12;
snowStorm.snowColor = '#ea0b0b';
snowStorm.snowCharacter = '&hearts;';

snowStorm.toggleSnow();

*/

}
